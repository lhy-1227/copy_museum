{"ast":null,"code":"import \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/upload/style/css\";\nimport _Upload from \"antd/es/upload\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/slider/style/css\";\nimport _Slider from \"antd/es/slider\";\nimport _classCallCheck from \"E:\\\\web\\\\copy_museum\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\web\\\\copy_museum\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\web\\\\copy_museum\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\web\\\\copy_museum\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\web\\\\copy_museum\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"E:\\\\web\\\\copy_museum\\\\src\\\\Components\\\\VenueService\\\\Broadcast\\\\ChartLeft\\\\ModifyModal.js\";\nimport React from 'react';\nimport style from './../BroadcastTable.module.css';\nvar Option = _Select.Option;\nvar props = {\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  onChange: function onChange(_ref) {\n    var file = _ref.file,\n        fileList = _ref.fileList;\n\n    if (file.status !== 'uploading') {\n      console.log(file, fileList);\n    }\n  },\n  defaultFileList: [{\n    uid: '1',\n    name: 'example.png',\n    status: 'done',\n    url: 'http://wx.qlogo.cn/mmhead/WmwqjsSBsZKRNp8BD4jPBlfCXzXX6RCQ8pKQhy21ehUxPOWnKjoICQ/0 '\n  }]\n};\n\nvar ModifyModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ModifyModal, _React$Component);\n\n  function ModifyModal(props) {\n    var _this2;\n\n    _classCallCheck(this, ModifyModal);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ModifyModal).call(this, props));\n\n    _this2.closeModal = function () {\n      _this2.father.setState({\n        ModifyModalVisible: false,\n        chooseTerminal: [],\n        checkedAll: false\n      });\n    };\n\n    _this2.createLiveNameChange = function (e) {\n      _this2.father.setState({\n        createLiveName: e.target.value\n      });\n    };\n\n    _this2.modifyLiveBroad = function () {\n      var arr = _this2.father.state.createdLives;\n      arr[_this2.father.state.ModifyLiveId] = {\n        name: !_this2.father.state.createLiveName ? _this2.father.state.createdLives[_this2.father.state.ModifyLiveId].name : _this2.father.state.createLiveName,\n        volume: _this2.father.state.ModalSliderValue,\n        terminal: _this2.father.state.chooseTerminal\n      };\n\n      _this2.father.setState({\n        createdLives: arr,\n        ModifyModalVisible: false,\n        chooseTerminal: [],\n        checkedAll: false\n      });\n    };\n\n    _this2.selectOnChange = function (value) {\n      if (value === \"请选择\" || value === \"全部终端\") {\n        _this2.father.setState({\n          selectChoice: _this2.father.state.wholeTerminalList\n        });\n      } else {\n        _this2.father.setState({\n          selectChoice: _this2.father.state.groupTerminalList\n        });\n      }\n    };\n\n    _this2.generateTerminalList = function () {\n      var _this = _this2.props.father;\n      return React.createElement(\"ul\", {\n        className: style.terminalListItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, _this.state.selectChoice.map(function (item, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: style.checkBoxLabel,\n          htmlFor: \"checkbox\" + index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: style.popPaneCheckbox,\n          type: \"checkbox\",\n          id: \"checkbox\" + index,\n          checked: item.checked ? true : false,\n          onChange: function onChange(e) {\n            var flag = 0;\n\n            for (var i = 0; i < _this.state.chooseTerminal.length; i++) {\n              if (_this.state.chooseTerminal[i].name === item.name) {\n                _this.state.chooseTerminal.splice(i, 1);\n\n                flag = 1;\n              }\n            }\n\n            if (!flag) {\n              _this.state.chooseTerminal.push(item);\n            }\n\n            var arr = _this.state.selectChoice;\n            arr[index].checked = e.target.checked;\n\n            _this.setState({\n              selectChoice: arr\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        })), item.name, React.createElement(\"span\", {\n          style: {\n            marginLeft: \"40%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"ip:\", item.ip));\n      }));\n    };\n\n    _this2.onChangeSliderValue = function (value) {\n      _this2.father.setState({\n        ModalSliderValue: value\n      });\n    };\n\n    _this2.selectWhole = function () {\n      var _this = _this2.props.father;\n\n      if (!_this.state.checkedAll) {\n        _this.state.selectChoice.filter(function (item) {\n          item.checked = true;\n          return 0;\n        });\n\n        _this.setState({\n          chooseTerminal: _this.state.selectChoice,\n          checkedAll: true\n        });\n      } else {\n        _this.setState({\n          chooseTerminal: [],\n          checkedAll: false\n        });\n\n        _this.state.selectChoice.filter(function (item) {\n          item.checked = false;\n          return 0;\n        });\n      }\n    };\n\n    _this2.father = _this2.props.father;\n    return _this2;\n  }\n\n  _createClass(ModifyModal, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(_Modal, {\n        title: \"\\u67E5\\u770B\\u6587\\u4EF6\\u5E7F\\u64AD\",\n        visible: this.father.state.ModifyModalVisible,\n        onCancel: this.closeModal,\n        className: style.LiveBroadcastModal,\n        destroyOnClose: true,\n        footer: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: style.ModalWhole,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: style.ModalSectionName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"\\u5E7F\\u64AD\\u540D\\u79F0\"), React.createElement(\"input\", {\n        placeholder: \"请输入广播名称\",\n        onChange: this.createLiveNameChange,\n        defaultValue: this.father.state.createdLives.length === 0 ? \"\" : this.father.state.createdLives[this.father.state.ModifyLiveId].name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: style.ModalSectionName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"\\u97F3\\u91CF\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: style.musicIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(_Slider, {\n        defaultValue: this.father.state.createdLives.length === 0 ? 0 : this.father.state.createdLives[this.father.state.ModifyLiveId].volume,\n        style: {\n          width: \"60%\",\n          display: \"inline-block\",\n          marginBottom: \"-0.1%\"\n        },\n        onChange: this.onChangeSliderValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        style: {\n          display: \"inline-block\",\n          marginLeft: \"5%\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, this.father.state.ModalSliderValue))), React.createElement(\"div\", {\n        className: style.fileSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: style.ModalSectionName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"\\u6587\\u4EF6\\u9009\\u62E9\\uFF1A\"), React.createElement(\"div\", {\n        style: {\n          marginTop: \"-3%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(_Upload, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(_Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), \" \\u4E0A\\u4F20\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: style.ModalSectionName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"\\u7EC8\\u7AEF\\u9009\\u62E9\"), React.createElement(_Select, {\n        defaultValue: \"请选择\",\n        onChange: this.selectOnChange,\n        style: {\n          marginTop: \"0.5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"\\u8BF7\\u9009\\u62E9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"\\u8BF7\\u9009\\u62E9\"), React.createElement(Option, {\n        value: \"\\u5168\\u90E8\\u7EC8\\u7AEF\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"\\u5168\\u90E8\\u7EC8\\u7AEF\"), React.createElement(Option, {\n        value: \"\\u5206\\u7EC4\\u7EC8\\u7AEF\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"\\u5206\\u7EC4\\u7EC8\\u7AEF\")), React.createElement(\"div\", {\n        style: {\n          margin: \"0.5% 2% 0 45%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: style.checkBoxLabel,\n        htmlFor: \"wholeChoose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: style.popPaneCheckbox,\n        type: \"checkbox\",\n        id: \"wholeChoose\",\n        onClick: this.selectWhole,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }))), \"\\u5168\\u9009\")), React.createElement(\"div\", {\n        className: style.terminalList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, this.generateTerminalList()), React.createElement(\"div\", {\n        className: style.ModalButtonGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.modifyLiveBroad,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"\\u4FEE\\u6539\"), React.createElement(\"button\", {\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"\\u5173\\u95ED\"))));\n    }\n  }]);\n\n  return ModifyModal;\n}(React.Component);\n\nexport { ModifyModal as default };","map":{"version":3,"sources":["E:\\web\\copy_museum\\src\\Components\\VenueService\\Broadcast\\ChartLeft\\ModifyModal.js"],"names":["React","style","Option","props","action","onChange","file","fileList","status","console","log","defaultFileList","uid","name","url","ModifyModal","closeModal","father","setState","ModifyModalVisible","chooseTerminal","checkedAll","createLiveNameChange","e","createLiveName","target","value","modifyLiveBroad","arr","state","createdLives","ModifyLiveId","volume","ModalSliderValue","terminal","selectOnChange","selectChoice","wholeTerminalList","groupTerminalList","generateTerminalList","_this","terminalListItems","map","item","index","checkBoxLabel","popPaneCheckbox","checked","flag","i","length","splice","push","marginLeft","ip","onChangeSliderValue","selectWhole","filter","LiveBroadcastModal","ModalWhole","ModalSectionName","musicIcon","width","display","marginBottom","color","fileSelect","marginTop","margin","terminalList","ModalButtonGroup","Component"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,gCAAlB;IAEQC,M,WAAAA,M;AACR,IAAMC,KAAK,GAAG;AACVC,EAAAA,MAAM,EAAE,kDADE;AAEVC,EAAAA,QAFU,0BAEmB;AAAA,QAAlBC,IAAkB,QAAlBA,IAAkB;AAAA,QAAZC,QAAY,QAAZA,QAAY;;AACzB,QAAID,IAAI,CAACE,MAAL,KAAgB,WAApB,EAAiC;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,QAAlB;AACH;AACJ,GANS;AAOVI,EAAAA,eAAe,EAAE,CACb;AACIC,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,aAFV;AAGIL,IAAAA,MAAM,EAAE,MAHZ;AAIIM,IAAAA,GAAG,EAAE;AAJT,GADa;AAPP,CAAd;;IAiBqBC,W;;;;;AACjB,uBAAYZ,KAAZ,EAAmB;AAAA;;AAAA;;AACf,sFAAMA,KAAN;;AADe,WAInBa,UAJmB,GAIN,YAAM;AACf,aAAKC,MAAL,CAAYC,QAAZ,CAAqB;AACjBC,QAAAA,kBAAkB,EAAE,KADH;AAEjBC,QAAAA,cAAc,EAAE,EAFC;AAGjBC,QAAAA,UAAU,EAAE;AAHK,OAArB;AAKH,KAVkB;;AAAA,WAYnBC,oBAZmB,GAYI,UAACC,CAAD,EAAO;AAC1B,aAAKN,MAAL,CAAYC,QAAZ,CAAqB;AACjBM,QAAAA,cAAc,EAAED,CAAC,CAACE,MAAF,CAASC;AADR,OAArB;AAGH,KAhBkB;;AAAA,WAkBnBC,eAlBmB,GAkBD,YAAM;AACpB,UAAIC,GAAG,GAAG,OAAKX,MAAL,CAAYY,KAAZ,CAAkBC,YAA5B;AACAF,MAAAA,GAAG,CAAC,OAAKX,MAAL,CAAYY,KAAZ,CAAkBE,YAAnB,CAAH,GAAsC;AAClClB,QAAAA,IAAI,EAAG,CAAC,OAAKI,MAAL,CAAYY,KAAZ,CAAkBL,cAApB,GAAsC,OAAKP,MAAL,CAAYY,KAAZ,CAAkBC,YAAlB,CAA+B,OAAKb,MAAL,CAAYY,KAAZ,CAAkBE,YAAjD,EAA+DlB,IAArG,GAA4G,OAAKI,MAAL,CAAYY,KAAZ,CAAkBL,cADlG;AAElCQ,QAAAA,MAAM,EAAE,OAAKf,MAAL,CAAYY,KAAZ,CAAkBI,gBAFQ;AAGlCC,QAAAA,QAAQ,EAAE,OAAKjB,MAAL,CAAYY,KAAZ,CAAkBT;AAHM,OAAtC;;AAKA,aAAKH,MAAL,CAAYC,QAAZ,CAAqB;AACjBY,QAAAA,YAAY,EAAEF,GADG;AAEjBT,QAAAA,kBAAkB,EAAE,KAFH;AAGjBC,QAAAA,cAAc,EAAE,EAHC;AAIjBC,QAAAA,UAAU,EAAE;AAJK,OAArB;AAMH,KA/BkB;;AAAA,WAgCnBc,cAhCmB,GAgCF,UAACT,KAAD,EAAW;AACxB,UAAIA,KAAK,KAAK,KAAV,IAAmBA,KAAK,KAAK,MAAjC,EAAyC;AACrC,eAAKT,MAAL,CAAYC,QAAZ,CAAqB;AACjBkB,UAAAA,YAAY,EAAE,OAAKnB,MAAL,CAAYY,KAAZ,CAAkBQ;AADf,SAArB;AAGH,OAJD,MAIO;AACH,eAAKpB,MAAL,CAAYC,QAAZ,CAAqB;AACjBkB,UAAAA,YAAY,EAAE,OAAKnB,MAAL,CAAYY,KAAZ,CAAkBS;AADf,SAArB;AAGH;AACJ,KA1CkB;;AAAA,WA2CnBC,oBA3CmB,GA2CI,YAAM;AACzB,UAAIC,KAAK,GAAG,OAAKrC,KAAL,CAAWc,MAAvB;AACA,aACI;AAAI,QAAA,SAAS,EAAEhB,KAAK,CAACwC,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKD,KAAK,CAACX,KAAN,CAAYO,YAAZ,CAAyBM,GAAzB,CAA6B,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC3C,eACI;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AACI,UAAA,SAAS,EAAE3C,KAAK,CAAC4C,aADrB;AAEI,UAAA,OAAO,EAAE,aAAaD,KAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAII;AACI,UAAA,SAAS,EAAE3C,KAAK,CAAC6C,eADrB;AAEI,UAAA,IAAI,EAAC,UAFT;AAGI,UAAA,EAAE,EAAE,aAAaF,KAHrB;AAII,UAAA,OAAO,EAAGD,IAAI,CAACI,OAAN,GAAiB,IAAjB,GAAwB,KAJrC;AAKI,UAAA,QAAQ,EAAE,kBAACxB,CAAD,EAAO;AACb,gBAAIyB,IAAI,GAAG,CAAX;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,KAAK,CAACX,KAAN,CAAYT,cAAZ,CAA2B8B,MAA/C,EAAuDD,CAAC,EAAxD,EAA4D;AACxD,kBAAIT,KAAK,CAACX,KAAN,CAAYT,cAAZ,CAA2B6B,CAA3B,EAA8BpC,IAA9B,KAAuC8B,IAAI,CAAC9B,IAAhD,EAAsD;AAClD2B,gBAAAA,KAAK,CAACX,KAAN,CAAYT,cAAZ,CAA2B+B,MAA3B,CAAkCF,CAAlC,EAAqC,CAArC;;AACAD,gBAAAA,IAAI,GAAG,CAAP;AACH;AACJ;;AACD,gBAAI,CAACA,IAAL,EAAW;AACPR,cAAAA,KAAK,CAACX,KAAN,CAAYT,cAAZ,CAA2BgC,IAA3B,CAAgCT,IAAhC;AACH;;AACD,gBAAIf,GAAG,GAAGY,KAAK,CAACX,KAAN,CAAYO,YAAtB;AACAR,YAAAA,GAAG,CAACgB,KAAD,CAAH,CAAWG,OAAX,GAAqBxB,CAAC,CAACE,MAAF,CAASsB,OAA9B;;AACAP,YAAAA,KAAK,CAACtB,QAAN,CAAe;AACXkB,cAAAA,YAAY,EAAER;AADH,aAAf;AAGH,WArBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJJ,CADJ,EA6BKe,IAAI,CAAC9B,IA7BV,EA8BI;AAAM,UAAA,KAAK,EAAE;AAAEwC,YAAAA,UAAU,EAAE;AAAd,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAwCV,IAAI,CAACW,EAA7C,CA9BJ,CADJ;AAkCH,OAnCA,CADL,CADJ;AAwCH,KArFkB;;AAAA,WAsFnBC,mBAtFmB,GAsFG,UAAC7B,KAAD,EAAW;AAC7B,aAAKT,MAAL,CAAYC,QAAZ,CAAqB;AACjBe,QAAAA,gBAAgB,EAAEP;AADD,OAArB;AAGH,KA1FkB;;AAAA,WA2FnB8B,WA3FmB,GA2FL,YAAM;AAChB,UAAIhB,KAAK,GAAG,OAAKrC,KAAL,CAAWc,MAAvB;;AACA,UAAI,CAACuB,KAAK,CAACX,KAAN,CAAYR,UAAjB,EAA6B;AACzBmB,QAAAA,KAAK,CAACX,KAAN,CAAYO,YAAZ,CAAyBqB,MAAzB,CAAgC,UAACd,IAAD,EAAU;AACtCA,UAAAA,IAAI,CAACI,OAAL,GAAe,IAAf;AACA,iBAAO,CAAP;AACH,SAHD;;AAIAP,QAAAA,KAAK,CAACtB,QAAN,CAAe;AACXE,UAAAA,cAAc,EAAEoB,KAAK,CAACX,KAAN,CAAYO,YADjB;AAEXf,UAAAA,UAAU,EAAE;AAFD,SAAf;AAIH,OATD,MASO;AACHmB,QAAAA,KAAK,CAACtB,QAAN,CAAe;AACXE,UAAAA,cAAc,EAAE,EADL;AAEXC,UAAAA,UAAU,EAAE;AAFD,SAAf;;AAIAmB,QAAAA,KAAK,CAACX,KAAN,CAAYO,YAAZ,CAAyBqB,MAAzB,CAAgC,UAACd,IAAD,EAAU;AACtCA,UAAAA,IAAI,CAACI,OAAL,GAAe,KAAf;AACA,iBAAO,CAAP;AACH,SAHD;AAIH;AACJ,KAhHkB;;AAEf,WAAK9B,MAAL,GAAc,OAAKd,KAAL,CAAWc,MAAzB;AAFe;AAGlB;;;;6BA8GQ;AACL,aACI;AACI,QAAA,KAAK,EAAC,sCADV;AAEI,QAAA,OAAO,EAAE,KAAKA,MAAL,CAAYY,KAAZ,CAAkBV,kBAF/B;AAGI,QAAA,QAAQ,EAAE,KAAKH,UAHnB;AAII,QAAA,SAAS,EAAEf,KAAK,CAACyD,kBAJrB;AAKI,QAAA,cAAc,EAAE,IALpB;AAMI,QAAA,MAAM,EAAE,IANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQI;AAAK,QAAA,SAAS,EAAEzD,KAAK,CAAC0D,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAE1D,KAAK,CAAC2D,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,EAEI;AACI,QAAA,WAAW,EAAE,SADjB;AAEI,QAAA,QAAQ,EAAE,KAAKtC,oBAFnB;AAGI,QAAA,YAAY,EAAG,KAAKL,MAAL,CAAYY,KAAZ,CAAkBC,YAAlB,CAA+BoB,MAA/B,KAA0C,CAA3C,GAAgD,EAAhD,GAAsD,KAAKjC,MAAL,CAAYY,KAAZ,CAAkBC,YAAlB,CAA+B,KAAKb,MAAL,CAAYY,KAAZ,CAAkBE,YAAjD,EAA+DlB,IAHvI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAEZ,KAAK,CAAC2D,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAE3D,KAAK,CAAC4D,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AACI,QAAA,YAAY,EAAG,KAAK5C,MAAL,CAAYY,KAAZ,CAAkBC,YAAlB,CAA+BoB,MAA/B,KAA0C,CAA3C,GAAgD,CAAhD,GAAqD,KAAKjC,MAAL,CAAYY,KAAZ,CAAkBC,YAAlB,CAA+B,KAAKb,MAAL,CAAYY,KAAZ,CAAkBE,YAAjD,EAA+DC,MADtI;AAEI,QAAA,KAAK,EAAE;AAAE8B,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,OAAO,EAAE,cAAzB;AAAyCC,UAAAA,YAAY,EAAE;AAAvD,SAFX;AAGI,QAAA,QAAQ,EAAE,KAAKT,mBAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAOI;AAAM,QAAA,KAAK,EAAE;AAAEQ,UAAAA,OAAO,EAAE,cAAX;AAA2BV,UAAAA,UAAU,EAAE,IAAvC;AAA6CY,UAAAA,KAAK,EAAE;AAApD,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6E,KAAKhD,MAAL,CAAYY,KAAZ,CAAkBI,gBAA/F,CAPJ,CAJJ,CATJ,EAuBI;AAAK,QAAA,SAAS,EAAEhC,KAAK,CAACiE,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAEjE,KAAK,CAAC2D,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAAEO,UAAAA,SAAS,EAAE;AAAb,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,+CAAYhE,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,kBADJ,CADJ,CAFJ,CAvBJ,EAiCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAE;AAAE4D,UAAAA,OAAO,EAAE,MAAX;AAAmBE,UAAAA,KAAK,EAAE;AAA1B,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAEhE,KAAK,CAAC2D,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,EAEI;AACI,QAAA,YAAY,EAAE,KADlB;AAEI,QAAA,QAAQ,EAAE,KAAKzB,cAFnB;AAGI,QAAA,KAAK,EAAE;AAAEgC,UAAAA,SAAS,EAAE;AAAb,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BALJ,EAMI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCANJ,EAOI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAPJ,CAFJ,EAWI;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,SAAS,EAAEnE,KAAK,CAAC4C,aADrB;AAEI,QAAA,OAAO,EAAE,aAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII;AACI,QAAA,SAAS,EAAE5C,KAAK,CAAC6C,eADrB;AAEI,QAAA,IAAI,EAAC,UAFT;AAGI,QAAA,EAAE,EAAE,aAHR;AAII,QAAA,OAAO,EAAE,KAAKU,WAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CAXJ,iBADJ,CAjCJ,EA4DI;AAAK,QAAA,SAAS,EAAEvD,KAAK,CAACoE,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK9B,oBAAL,EADL,CA5DJ,EA+DI;AAAK,QAAA,SAAS,EAAEtC,KAAK,CAACqE,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,OAAO,EAAE,KAAK3C,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAQ,QAAA,OAAO,EAAE,KAAKX,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CA/DJ,CARJ,CADJ;AA+EH;;;;EAlMoChB,KAAK,CAACuE,S;;SAA1BxD,W","sourcesContent":["import React from 'react';\r\nimport { Modal, Slider, Select, Upload, Button, Icon } from 'antd';\r\nimport style from './../BroadcastTable.module.css';\r\n\r\nconst { Option } = Select;\r\nconst props = {\r\n    action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n    onChange({ file, fileList }) {\r\n        if (file.status !== 'uploading') {\r\n            console.log(file, fileList);\r\n        }\r\n    },\r\n    defaultFileList: [\r\n        {\r\n            uid: '1',\r\n            name: 'example.png',\r\n            status: 'done',\r\n            url: 'http://wx.qlogo.cn/mmhead/WmwqjsSBsZKRNp8BD4jPBlfCXzXX6RCQ8pKQhy21ehUxPOWnKjoICQ/0 ',\r\n        },\r\n    ],\r\n};\r\n\r\nexport default class ModifyModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.father = this.props.father;\r\n    }\r\n    closeModal = () => {\r\n        this.father.setState({\r\n            ModifyModalVisible: false,\r\n            chooseTerminal: [],\r\n            checkedAll: false\r\n        })\r\n    }\r\n\r\n    createLiveNameChange = (e) => {\r\n        this.father.setState({\r\n            createLiveName: e.target.value\r\n        })\r\n    }\r\n\r\n    modifyLiveBroad = () => {\r\n        let arr = this.father.state.createdLives;\r\n        arr[this.father.state.ModifyLiveId] = {\r\n            name: (!this.father.state.createLiveName) ? this.father.state.createdLives[this.father.state.ModifyLiveId].name : this.father.state.createLiveName,\r\n            volume: this.father.state.ModalSliderValue,\r\n            terminal: this.father.state.chooseTerminal\r\n        }\r\n        this.father.setState({\r\n            createdLives: arr,\r\n            ModifyModalVisible: false,\r\n            chooseTerminal: [],\r\n            checkedAll: false\r\n        })\r\n    }\r\n    selectOnChange = (value) => {\r\n        if (value === \"请选择\" || value === \"全部终端\") {\r\n            this.father.setState({\r\n                selectChoice: this.father.state.wholeTerminalList\r\n            })\r\n        } else {\r\n            this.father.setState({\r\n                selectChoice: this.father.state.groupTerminalList\r\n            })\r\n        }\r\n    }\r\n    generateTerminalList = () => {\r\n        let _this = this.props.father;\r\n        return (\r\n            <ul className={style.terminalListItems}>\r\n                {_this.state.selectChoice.map((item, index) => {\r\n                    return (\r\n                        <li key={index}>\r\n                            <label\r\n                                className={style.checkBoxLabel}\r\n                                htmlFor={\"checkbox\" + index}\r\n                            >\r\n                                <input\r\n                                    className={style.popPaneCheckbox}\r\n                                    type=\"checkbox\"\r\n                                    id={\"checkbox\" + index}\r\n                                    checked={(item.checked) ? true : false}\r\n                                    onChange={(e) => {\r\n                                        let flag = 0;\r\n                                        for (let i = 0; i < _this.state.chooseTerminal.length; i++) {\r\n                                            if (_this.state.chooseTerminal[i].name === item.name) {\r\n                                                _this.state.chooseTerminal.splice(i, 1);\r\n                                                flag = 1;\r\n                                            }\r\n                                        }\r\n                                        if (!flag) {\r\n                                            _this.state.chooseTerminal.push(item);\r\n                                        }\r\n                                        let arr = _this.state.selectChoice;\r\n                                        arr[index].checked = e.target.checked;\r\n                                        _this.setState({\r\n                                            selectChoice: arr\r\n                                        })\r\n                                    }}\r\n                                />\r\n                            </label>\r\n                            {item.name}\r\n                            <span style={{ marginLeft: \"40%\" }}>ip:{item.ip}</span>\r\n                        </li>\r\n                    )\r\n                })\r\n                }\r\n            </ul>)\r\n    }\r\n    onChangeSliderValue = (value) => {\r\n        this.father.setState({\r\n            ModalSliderValue: value\r\n        })\r\n    }\r\n    selectWhole = () => {\r\n        let _this = this.props.father;\r\n        if (!_this.state.checkedAll) {\r\n            _this.state.selectChoice.filter((item) => {\r\n                item.checked = true;\r\n                return 0;\r\n            })\r\n            _this.setState({\r\n                chooseTerminal: _this.state.selectChoice,\r\n                checkedAll: true\r\n            })\r\n        } else {\r\n            _this.setState({\r\n                chooseTerminal: [],\r\n                checkedAll: false\r\n            })\r\n            _this.state.selectChoice.filter((item) => {\r\n                item.checked = false;\r\n                return 0;\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Modal\r\n                title=\"查看文件广播\"\r\n                visible={this.father.state.ModifyModalVisible}\r\n                onCancel={this.closeModal}\r\n                className={style.LiveBroadcastModal}\r\n                destroyOnClose={true}\r\n                footer={null}\r\n            >\r\n                <div className={style.ModalWhole}>\r\n                    <div>\r\n                        <span className={style.ModalSectionName}>广播名称</span>\r\n                        <input\r\n                            placeholder={\"请输入广播名称\"}\r\n                            onChange={this.createLiveNameChange}\r\n                            defaultValue={(this.father.state.createdLives.length === 0) ? \"\" : (this.father.state.createdLives[this.father.state.ModifyLiveId].name)}\r\n                          />\r\n                    </div>\r\n                    <div>\r\n                        <span className={style.ModalSectionName}>\r\n                            音量\r\n                        </span>\r\n                        <span>\r\n                            <span className={style.musicIcon}></span>\r\n                            <Slider\r\n                                defaultValue={(this.father.state.createdLives.length === 0) ? 0 : (this.father.state.createdLives[this.father.state.ModifyLiveId].volume)}\r\n                                style={{ width: \"60%\", display: \"inline-block\", marginBottom: \"-0.1%\" }}\r\n                                onChange={this.onChangeSliderValue}\r\n                            />\r\n                            <span style={{ display: \"inline-block\", marginLeft: \"5%\", color: \"white\" }}>{this.father.state.ModalSliderValue}</span>\r\n                        </span>\r\n                    </div>\r\n                    <div className={style.fileSelect}>\r\n                        <span className={style.ModalSectionName}>文件选择：</span>\r\n                        <div style={{ marginTop: \"-3%\" }}>\r\n                            <Upload {...props}>\r\n                                <Button>\r\n                                    <Icon type=\"upload\" /> 上传\r\n                                </Button>\r\n                            </Upload>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ display: \"flex\", color: \"white\" }}>\r\n                            <div className={style.ModalSectionName}>终端选择</div>\r\n                            <Select\r\n                                defaultValue={\"请选择\"}\r\n                                onChange={this.selectOnChange}\r\n                                style={{ marginTop: \"0.5%\" }}\r\n                            >\r\n                                <Option value=\"请选择\">请选择</Option>\r\n                                <Option value=\"全部终端\">全部终端</Option>\r\n                                <Option value=\"分组终端\">分组终端</Option>\r\n                            </Select>\r\n                            <div style={{ margin: \"0.5% 2% 0 45%\" }}>\r\n                                <label\r\n                                    className={style.checkBoxLabel}\r\n                                    htmlFor={\"wholeChoose\"}\r\n                                >\r\n                                    <input\r\n                                        className={style.popPaneCheckbox}\r\n                                        type=\"checkbox\"\r\n                                        id={\"wholeChoose\"}\r\n                                        onClick={this.selectWhole}\r\n                                    />\r\n                                </label>\r\n                            </div>全选\r\n                            </div>\r\n                    </div>\r\n                    <div className={style.terminalList}>\r\n                        {this.generateTerminalList()}\r\n                    </div>\r\n                    <div className={style.ModalButtonGroup}>\r\n                        <button onClick={this.modifyLiveBroad}>修改</button>\r\n                        <button onClick={this.closeModal}>关闭</button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}